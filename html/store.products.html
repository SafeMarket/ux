<div ng-controller="StoreProducts">
	<table class="table">
		<tr ng-repeat="product in store.products">
			<td>
				<div ng-repeat="image in product.images track by $index">
					<img amorph-image="image" class="image">
				</div>
			</td>
			<td>
				{{product.name}}
				<div class="text-muted text-small">{{product.quantity.to('number.string')}} Units Available</div>
			</td>
			<td>
				{{product.info}}
			</td>
			<td pricemorph="product.price"></td>
			<td>
				<input class="form-control" type="number" ng-model="productUnits[$index]" min="0" max="{{product.quantity.to('number')}}" amorph-input="number" ng-change="onQuantitiesChanged()">
			</td>
		</tr>
		<tr>
			<td colspan="4"></td>
			<td pricemorph="productsTotal"></td>
		</tr>
		<tr>
			<td>Transport</td>
			<td colspan="3">
				<select ng-model="transport" ng-options="transport.getLabel() for transport in store.transports" class="form-control"></select>
			</td>
			<td pricemorph="transport.price"></td>
		</tr>
		<tr>
			<td colspan="4">Exchange Rate Buffer ({{store.bufferMicroperun | perun:-6}})</td>
			<td pricemorph="buffer"></td>
		</tr>
		<tr>
			<td>Arbitrator</td>
			<td colspan="3">
				<select ng-model="arbitratorOption" ng-options="arbitratorOption.getLabel() for arbitratorOption in arbitratorOptions" class="form-control"></select>
			</td>
			<td pricemorph="arbitratorTotal"></td>
		</tr>
		<tr>
			<td colspan="4">Total</td>
			<td pricemorph="total"></td>
		</tr>
	</table>
  <div class="text-right">
	<button ng-click="createOrder()" class="btn btn-primary btn-lg" id="create-order-button">Create Your Order</button>
	</div>
</div>
